# app321 — 60 Dakikalık Analiz

## Genel İşleyiş
- 60 dakikalık mumlar üzerinde sequence sayımı, DC analizi, offset matrisi ve IOU sinyal taraması yapar.
- Web arayüzü varsayılan olarak port 2019’da çalışır; Analiz, DC List, Matrix ve IOU Tarama sekmelerinden oluşur.
- Girdi `UTC-4` veya `UTC-5` olabilir; `UTC-5` seçildiğinde tüm kayıtlar +60 dk kaydırılarak normalize edilir.

## Modül Yapısı
- `main.py`: CSV işleme, DC hesaplama, offset ve tahmin mantığı, IOU sinyal taraması gibi temel işlevleri barındırır.
- `app321_dc`: 60 dakikalık akış için DC listesi çıkaran yardımcı araçtır.
- Web arayüzü çoklu dosya yükleme, limit/tolerans ayarları ve haber filtresini destekler.

## DC ve Offset Kuralları
- Standart DC kriterleri kullanılır; ardışık DC engellenir, 18:00 baz mumları DC sayılmaz.
- Özel istisna: 13:00–20:00 arasındaki mumlar DC olsa bile normal mum kabul edilir.
- Pozitif offsetler DC olmayan ilk gerçek muma kaydırılarak hesaplanır; kapsayıcı kural sequence zamanını DC mumuna sabitleyebilir.
- Tahmin mekanizması veri aralığı dışındaki sequence değerleri için zaman damgası üretir ve `pred` etiketiyle gösterir.

## IOU Tarama
- Aynı işaretli OC/PrevOC kombinasyonları aranır.
- Limit alanı mutlak alınır; hem `|OC|` hem `|PrevOC|` değerleri `limit + tolerans` eşiğini geçmediği sürece satırlar raporlanmaz.
- Varsayılan tolerans 0.005’tir; form alanı üzerinden değiştirilebilir.
- Çoklu CSV yükleme desteklenir; sonuçlar dosya bazlı kartlarda listelenir.
- XYZ filtresi aktifken haber taşımayan offsetler elenir; tatiller bilgi amaçlı görünür.

## Analiz ve Matrix Sekmeleri
- Analiz sekmesi sequence indekslerini, zaman damgalarını, DC durumlarını ve OC/PrevOC değerlerini sıralar; tahmini slotlar `pred` etiketiyle işaretlenir.
- Matrix sekmesi `-3..+3` offsetlerinin tamamını tek tabloda sunar; kullanıcı tüm offsets setini tek ekranda görür.
- DC List sekmesi ham OHLC değerlerini DC bayraklarıyla beraber gösterir.

## Veri Hazırlama Notları
- Sequence dizileri S1 ve S2 desteklenir; 18:00 baz mumu normalize edildiğinde offset hesapları stabil çalışır.
- CSV başlıkları esnek tutulmuştur; `Close (Last)` gibi varyantlar otomatik eşleştirilir.
- Limit ve tolerans alanları çoklu dosya yüklemelerinde ortak kullanılır; hassasiyet ihtiyacına göre tolerans değeri güncellenebilir.
